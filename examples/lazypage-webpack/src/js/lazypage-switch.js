/*!
 *  lazypage-switch 
 *  by fengshangbin 2019-01-10 
 *  https://github.com/fengshangbin/LazyPage-switch 
 *  for H5 page switch animation
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LazyPage=t():e.LazyPage=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=5)}([function(e,t){function n(e){for(var t="",n=/\[[^\]]*\]/g,r=n.exec(e);null!=r;)t+=l(r[0]),r=n.exec(e);e=e.replace(n,"");for(var a=/#[^#.[]*/g,i=a.exec(e);null!=i;)t+="[id="+i[0].substring(1)+"]",i=a.exec(e);e=e.replace(a,"");for(var o="",s=/\.[^#.[]*/g,c=s.exec(e);null!=c;)o+=c[0],c=s.exec(e);return{regStr:e=e.replace(s,""),attrRegs:t,classRegs:o}}function r(e,t,r,s){for(var l={multiElement:!r||s,moreRegs:[]},c=!1,u=/:not\((.*?)\)/g,d=u.exec(t);null!=d;){(m=n(d[1])).attrRegs.length>0&&l.moreRegs.push({index:2,regStr:i(m.attrRegs),exclude:!0}),m.classRegs.length>0&&(l.moreRegs.push({index:3,regStr:a(m.classRegs),exclude:!0}),c=!0),d=u.exec(t)}(m=n(t=t.replace(u,""))).attrRegs.length>0&&l.moreRegs.push({index:2,regStr:i(m.attrRegs)}),m.classRegs.length>0&&(l.moreRegs.push({index:3,regStr:a(m.classRegs)}),c=!0);var f=(t=m.regStr).trim();0==f.length&&(f="[^ >\n\r]*"),t="< *("+f+")("+(c?'[^>]*?\\bclass *= *"([^"]*)"':"")+"[^>]*)>";for(var p=[],h=0;h<e.length;h++){var m=o(t,e[h],l);if(l.multiElement)p=p.concat(m);else if(m||h==e.length-1)return m}return p}function a(e){for(var t=e.split("."),n="",r=0;r<t.length;r++){var a=t[r];a.length>0&&(n+="(?=.*?\\b"+a+"\\b)")}return n}function i(e){for(var t=e.substring(1,e.length-1).split("]["),n="",r=0;r<t.length;r++){var a=t[r].split("="),i=a[0].trim(),o=null;2==a.length&&(o=a[1].trim().replace(/^'|"/,"").replace(/'|"$/,"")),n+=null==o?"(?=.*?\\b"+i+"\\b)":"(?=.*?\\b"+i+' *= *"?'+o+'"?\\b)'}return n}function o(e,t,n){var r=null,a=null,i=null;"dom"==t.type?(r=0,a=t.html,i=t):"element"==t.type?(r=t.getStart()+t.getAttrLen(),a=t.getInnerHTML(),i=t.getDom()):a=t;for(var o=new RegExp(e,"img"),l=n.multiElement?[]:null,c=o.exec(a);null!=c;){if(null!=n.moreRegs&&n.moreRegs.length>0){for(;null!=c;){for(var u=!0,d=0;d<n.moreRegs.length;d++){var f=c[n.moreRegs[d].index],p=new RegExp(n.moreRegs[d].regStr,"im").test(f);n.moreRegs[d].exclude&&(p=!p),u=u&&p}if(u)break;c=o.exec(a)}if(null==c)return l}var h=null;if(null!=i&&(h=i.findElement(c.index)),null==h){var m=c.index+c[0].length,g=0,v=0;if(0==/\/ *>$/.test(c[0])){var y=s(c[1],a.substring(m));g=y.index,v=y.len}var E=a.substring(c.index,m+g);a!=t?(h=new element(i,c.index+r,m+g+r,E,c[0].length,v),i.addElement(h)):h=E}if(null==l){l=h;break}l.push(h),c=o.exec(a)}return l}function s(e,t){for(var n=new RegExp("< */? *"+e+"[^>]*>","img"),r=new RegExp("< */ *"+e+" *>","im"),a=1,i=0,o=0;a>0;){var s=n.exec(t);if(null==s)break;if(r.test(s[0]))a--,i=s.index+s[0].length,o=s[0].length;else if(a++,new RegExp("\\b"+e+"\\b","i").test("input br image"))return{index:0,len:0}}return{index:i,len:o}}function l(e){return e.replace(/\{-space-\}/g," ").replace(/\{-left-\}/g,"[").replace(/\{-right-\}/g,"]")}e.exports={querySelectorElement:function(e,t,n){for(var a=(t=function(e){for(var t=[],n=/'[^']*'/g,r=/"[^"]*"/g,a=n.exec(e);null!=a;)t.push(a[0]),a=n.exec(e);for(var i=r.exec(e);null!=i;)t.push(i[0]),i=r.exec(e);for(var o=0;o<t.length;o++)e=e.replace(t[o],t[o].replace(/ /g,"{-space-}").replace(/\[/g,"{-left-}").replace(/\]/g,"{-right-}"));return e}(t.trim())).split(" "),i=[e],o=0;i&&i.length>0&&o<a.length;)i=r(i,a[o],o==a.length-1,n),o++;return!n&&i instanceof Array?null:i},getElementByAttr:function(e,t,n){return o("< *([^ >\n\r]*)\\b([^>]*)>",e,{multiElement:n,moreRegs:[{index:2,regStr:i(t)}]})},queryElement:o,buildClassReg:a}},function(e,t,n){var r,a=new(n(9)),i=function e(t){a.trigger(),document.removeEventListener?document.removeEventListener("DOMContentLoaded",e,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",e),window==window.top&&(clearInterval(r),r=null))};document.addEventListener?document.addEventListener("DOMContentLoaded",i,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&i()}),window==window.top&&(r=setInterval(function(){try{document.documentElement.doScroll("left")}catch(e){return}i()},5))),e.exports=a.bind},function(e,t){var n={extractCode:function(e,t){for(var n=t?"style":"script",r="<"+n+"[^>]*>([\\S\\s]*?)</"+n+"\\s*>",a=new RegExp(r,"img"),i=new RegExp(r,"im"),o=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,s=/type=[\'\"]?([^\'\"]*)[\'\"]?/i,l=e.match(a)||[],c=[],u=0,d=l.length;u<d;u++){var f=(l[u].match(s)||["",""])[1].toLowerCase();if(""==f||f.indexOf("javascript")>=0){var p=(l[u].match(i)||["",""])[1];p&&""!=p&&c.push({code:p});var h=(l[u].match(o)||["",""])[1];h&&""!=h&&c.push({src:h})}}return c},activeCodes:function(e,t){n.activeCode(e,0,t)},activeCode:function(e,t,r){if(t==e.length)r();else{var a=e[t];a.code?(n.evalScripts(a.code),n.activeCode(e,t+1,r)):a.src&&n.dynamicLoadJs(a.src,function(){n.activeCode(e,t+1,r)})}},evalScripts:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.text=e,t.insertBefore(n,t.firstChild),t.removeChild(n)},dynamicLoadJs:function(e,t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r.onload=r.onreadystatechange=null,n.removeChild(r),t&&t())},r.onerror=function(){t&&t()},n.appendChild(r)},evalStyles:function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(t){n.styleSheet.cssText=e}t.appendChild(n)}};e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(7),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(3))},function(e,t,n){e.exports=n(10)},function(e,t,n){},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,a,i,o,s,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return c[l]=a,r(l),l++},f.clearImmediate=p}function p(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(3),n(8))},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports=function(){var e=!1,t=[];this.bind=function(n){e?n.call(window):t.push(n)},this.trigger=function(){if(!e){e=!0;for(var n=0;n<t.length;n++)t[n].apply(window);t=null}}}},function(e,t,n){"use strict";n.r(t);n(6);function r(e,t,n){if(e&&e.length>0){if("string"==typeof e)return!!t.classList.contains(e);for(var r=0,a=0;a<e.length;a++)t.classList.contains(e[a])&&r++;return r==e.length}return!0}function a(){return this.data=[],this.addClass=function(e){for(var t=0;t<this.data.length;t++)this.data[t].classList.add(e)},this.removeClass=function(e){for(var t=0;t<this.data.length;t++)this.data[t].classList.remove(e)},this.hasClass=function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].classList.contains(e))return!0;return!1},this.hide=function(){for(var e=0;e<this.data.length;e++)this.data[e].style.display="none"},this}function i(e,t){var n={};for(var r in e)n[r]=e[r];for(var a in t)n[a]=t[a];return n}function o(e,t){this.type=e,this.data=t,this.target=null}function s(e){e&&(document.title=e)}Element.prototype.getParentElementByTag=function(e){if(!e)return null;var t=null,n=this;return function r(){if(!(n=n.parentElement))return null;var a=n.tagName.toLowerCase();a===e?t=n:"body"==a?t=null:r()}(),t},Element.prototype.siblings=function(e,t){for(var n=new a,i=this.parentElement.children,o=0;o<i.length;o++){var s=i[o];(s!=this||t)&&(r(e,s)&&n.data.push(s))}return n},Element.prototype.childrens=function(e){for(var t=new a,n=this.children,i=0;i<n.length;i++){var o=n[i];r(e,o)&&t.data.push(o)}return t};var l=location.origin;function c(e){return e.replace(new RegExp(l,"i"),"").replace(/(\?.*)|(#.*)/,"").replace(/\/\//g,"/")}function u(e){if(function(e){return new RegExp("^((https|http|ftp|rtsp|mms)?://)(.*?)","i").test(e)}(e))return e;if(e.startsWith("/"))return l+e;if(e.startsWith("../")){for(var t=function(e){var t=c(e).split("/");return""==t[0]&&t.shift(),t}(location.href),n=0;e.startsWith("../");)e=e.substring(3),n++;for(var r="/",a=0;a<t.length-n;a++)r+=t[a];return r.length>1&&(r+="/"),l+r+e}throw l+"/"+e}null==l&&(l=/^((https|http|ftp|rtsp|mms)?:\/\/[^\/]*)/i.exec(location.href)[0]);var d=n(4),f=new function(){var e={};this.addEventListener=function(t,n){null==e[t]&&(e[t]=[]),-1==e[t].indexOf(n)&&e[t].push(n)},this.removeEventListener=function(t,n){if(null==e[t]&&(e[t]=[]),null==n)e[t].length>0&&(e[t]=[]);else{var r=e[t].indexOf(n);r>-1&&e[t].splice(r,1)}},this.dispatchEvent=function(t){if(t.target=this,null!=e[t.type])for(var n=0;n<e[t.type].length;n++)e[t.type][n](t)},this.hasEventListener=function(t){return null==e[t]&&(e[t]=[]),e[t].length>0}},p=f.addEventListener,h=f.removeEventListener,m=f.hasEventListener,g={PAGE_SWITCH_BEFORE:"PageSwitchBefore",PAGE_FIRST_IN:"PageFirstIn",PAGE_IN_START:"PageInStart",PAGE_IN_END:"PageInEnd",PAGE_OUT_START:"PageOutStart",PAGE_OUT_END:"PageOutEnd"},v={fade:{priority:1,fadeInDelay:"outend"},popup:{priority:2,fadeInDelay:0}};function y(e){null==v[e]&&(v[e]={priority:1,fadeInDelay:0})}function E(e,t){e.style.display="block";var n=e;n.hasPageFirstIn||(f.dispatchEvent(new o(g.PAGE_FIRST_IN,i(t,{page:n}))),n.hasPageFirstIn=!0),f.dispatchEvent(new o(g.PAGE_IN_START,i(t,{page:n}))),"onPageLoadShow"==t.animate?(e.classList.add("in"),f.dispatchEvent(new o(g.PAGE_IN_END,i(t,{page:n})))):(t.isBack&&e.classList.add("reverse"),e.classList.remove("out"),e.classList.add(t.animate),e.classList.add("in"),w(e,n,t,g.PAGE_IN_END))}function b(e,t,n){e.style.display="block";var r=e;f.dispatchEvent(new o(g.PAGE_OUT_START,i(t,{page:r}))),t.isBack&&e.classList.add("reverse"),e.classList.remove("in"),e.classList.add(t.animate),e.classList.add("out"),w(e,r,t,g.PAGE_OUT_END,n)}var x="WebkitAppearance"in document.documentElement.style||void 0!==document.webkitHidden;function w(e,t,n,r,a){var s=x?"webkitAnimationEnd":"animationend";e.addEventListener(s,function l(c){e.classList.remove("reverse");e.classList.remove(n.animate);e.classList.contains("out")&&(e.style.display="none");e.removeEventListener(s,l);f.dispatchEvent(new o(r,i(n,{page:t})));a&&a()})}var T="2";function L(e){return document.querySelector('.lazypage[data-path="'+R(e)+'"]')}function S(e,t){e.setAttribute("data-path",R(t))}function _(e){T=e}function R(e){return e.replace(new RegExp("^"+T,"i"),"")}function I(){var e={type:arguments[0].type||"GET",url:arguments[0].url||"",async:arguments[0].async||"true",data:arguments[0].data||null,dataType:arguments[0].dataType||"text",header:arguments[0].header||null,contentType:arguments[0].contentType||"application/x-www-form-urlencoded",beforeSend:arguments[0].beforeSend||function(){},success:arguments[0].success||function(){},error:arguments[0].error||function(){}};e.beforeSend();var t=new XMLHttpRequest;if("get"==e.type.toLowerCase()&&null!=e.data&&""!=e.data&&(e.url+=e.url.indexOf("?")>0?"&":"?",e.url+=e.data),t.open(e.type,e.url,e.async),t.setRequestHeader("Content-Type",e.contentType),null!=e.header)for(var n in e.header)t.setRequestHeader(n,e.header[n]);t.send("post"==e.type.toLowerCase()&&null!=e.data?e.data:null),t.onreadystatechange=function(){4==t.readyState&&(200==t.status?e.success(t.responseText):e.error(t.status))}}var k=n(2),A=n.n(k),P=n(0),C=n(1),O=n.n(C),B=!0;function j(){B=!1}function M(){B=!0}var N=!1,q={};function z(){N=!0,O()(function(){F(document.body)})}function D(){N=!1}function F(e){if(N){for(var t=e.querySelectorAll("a[href]"),n=[],r=0;r<t.length;r++){var a=t[r].href;if(!/^javascript/i.test(a))if("true"!=t[r].getAttribute("data-direct"))if(a=(a=u(a)).replace(new RegExp(l,"i"),""),!/^https?:\/\//i.test(a))null==L(c(a))&&n.push(a)}G(n)}}function G(e){for(var t=0;t<e.length;t++)q[e[t]]||(q[e[t]]=1,W(e[t],null))}var H={};function W(e,t){var n=c(e),r=L(n);null==r&&(H[e]?H[e].push(t):(H[e]=[t],I({url:e,success:function(t){if(null==(r=Object(P.querySelectorElement)(t,'.lazypage[data-path="'+n+'"]',!1))&&(r=Object(P.querySelectorElement)(t,".lazypage.in",!1)||Object(P.querySelectorElement)(t,".lazypage",!1)),null!=r){for(var a,i=r,o=/data-sort *= *"([0-9]*)"/i.exec(i),s=o?parseFloat(o[1]):0,l=document.querySelector(".lazypage.in").parentElement.childrens("lazypage"),c=0;c<l.data.length;c++){var u=l.data[c];if(s<parseFloat(u.getAttribute("data-sort")||"0")){u.insertAdjacentHTML("beforebegin",i),a=u.previousSibling||u.previousElementSibling;break}c==l.data.length-1&&(u.insertAdjacentHTML("afterend",i),a=u.nextSibling||u.nextElementSibling)}if(a.classList.add("out"),a.classList.remove("in"),!a.hasAttribute("data-title")){var d=Object(P.querySelectorElement)(t,"title",!1);d&&(d=d.replace(/< *\/? *title *>/gi,""),a.setAttribute("data-title",d))}S(a,n);var f=A.a.extractCode(i);A.a.activeCodes(f,function(){U(e,a)})}else U(e,null)},error:function(t){console.log("error",t),U(e,null)}})))}function U(e,t){for(var n=H[e],r=0;r<n.length;r++)n[r]&&n[r](t);H[e]=null}var $=c(location.href),J="pushState"in history&&"replaceState"in history;function X(e,t){if(!J)return!1;var n=c(e=u(e));if(/^https?:\//i.test(n))return!1;var r=document.querySelector(".lazypage.in");if(null!=r){t=i({history:!0,isBack:"auto",animate:"auto"},t=t||{});var a=L(n);return null==a?(W(e,function(i){if(null==i)return location.href=e,!0;a=i,function(e){if(B){var t=e.parentElement.childrens("lazypage-loading-mask");t.data.length>0&&(t.data[0].style.display="none")}}(r),K(n,r,a,t)}),function(e){if(B){var t=e.parentElement,n=t.childrens("lazypage-loading-mask");n.data.length>0?n.data[0].style.display="block":t.insertAdjacentHTML("beforeend",'<div class="lazypage-loading-mask"></div>')}}(r)):a!=r&&K(n,r,a,t),!0}}function K(e,t,n,r){s(n.getAttribute("data-title")),function(e,t,n){if("auto"==n.animate){var r=e.getAttribute("data-animate")||"slide",a=t.getAttribute("data-animate")||"slide";y(r),y(a),v[r].priority==v[a].priority?n.animate=a:v[r].priority>v[a].priority?(n.animate=r,n.isBack=!0):(n.animate=a,n.isBack=!1)}"string"==typeof n.isBack&&(n.isBack=4==t.compareDocumentPosition(e)),f.dispatchEvent(new o(g.PAGE_SWITCH_BEFORE,function(e,t){for(var n in t)e[n]=t[n];return e}(n,{from:e,to:t}))),y(n.animate);var i=v[n.animate].fadeInDelay;"number"==typeof i?(b(e,n),0==i?E(t,n):Object(d.setTimeout)(function(){E(t,n)},i)):"outend"==i&&b(e,n,function(){E(t,n)})}(t,n,r),function(e,t){var n=c(location.href);if(t.history){null==Q&&(Q={path:n});var r={animate:t.animate,isBack:t.isBack,path:e,prev:{animate:Q.animate,isBack:Q.isBack,path:Q.path}};Q.next={animate:r.animate,isBack:r.isBack,path:r.path},window.history.replaceState(Q,null,n),window.history.pushState(r,null,e),Q=r}}(e,r),$=e,F(n)}var Q=null;document.addEventListener("click",function(e){var t=e.target;if(t&&("a"==t.tagName.toLowerCase()||(t=t.getParentElementByTag("a")))){var n=t.href;if(/^javascript/i.test(n))return!1;if("true"==t.getAttribute("data-direct"))return!1;X(n,{history:"true"===(t.getAttribute("data-history")||"true"),isBack:"auto",animate:"auto"})&&e.preventDefault()}}),window.onpopstate=function(){var e,t=(e=history.state).prev&&$==e.prev.path?(Q=e,{history:!1,isBack:e.isBack,animate:e.animate}):e.next&&$==e.next.path?(Q=e,{history:!1,isBack:!e.next.isBack,animate:e.next.animate}):{history:!1,isBack:"auto",animate:"auto"};X(location.href,t)},O()(function(){var e=c(location.href),t=L(e),n=document.querySelector(".lazypage.in")||document.querySelector(".lazypage");null==t&&null==n||(null==t&&(t=n,S(n,e)),t!=n&&null!=n&&(n.classList.remove("in"),n.classList.add("out")),t.hasAttribute("data-title")?s(t.getAttribute("data-title")):t.setAttribute("data-title",document.title),E(t,{isBack:!1,animate:"onPageLoadShow"}))}),n.d(t,"goto",function(){return X}),n.d(t,"addEventListener",function(){return p}),n.d(t,"removeEventListener",function(){return h}),n.d(t,"hasEventListener",function(){return m}),n.d(t,"PageEvent",function(){return g}),n.d(t,"animation",function(){return v}),n.d(t,"openPreLoad",function(){return z}),n.d(t,"closePreLoad",function(){return D}),n.d(t,"preLoad",function(){return G}),n.d(t,"openLoading",function(){return M}),n.d(t,"closeLoading",function(){return j}),n.d(t,"setIgnorePath",function(){return _})}])});