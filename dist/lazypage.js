/*!
 *  lazypage.js 
 *  by fengshangbin 2019-01-10 
 *  https://github.com/fengshangbin/LazyPage 
 *  Easy H5 Page Framework
 */
var LazyPage=function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=2)}([function(t,e){var n={extractCode:function(t,e){for(var n=e?"style":"script",a="<"+n+"[^>]*>([\\S\\s]*?)</"+n+"\\s*>",r=new RegExp(a,"img"),i=new RegExp(a,"im"),o=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,s=/type=[\'\"]?([^\'\"]*)[\'\"]?/i,l=t.match(r)||[],u=[],c=[],d=0,f=l.length;d<f;d++){var p=(l[d].match(s)||["",""])[1].toLowerCase();if(""==p||p.indexOf("javascript")>=0){var h=(l[d].match(i)||["",""])[1];h&&""!=h&&c.push(h);var v=(l[d].match(o)||["",""])[1];v&&""!=v&&u.push(v)}}return{codes:c,srcs:u}},evalScripts:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.text=t,e.insertBefore(n,e.firstChild),e.removeChild(n)},dynamicLoadJs:function(t,e){var n=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src=t,a.onload=a.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a.onload=a.onreadystatechange=null,n.removeChild(a),e&&e())},a.onerror=function(){e&&e()},n.appendChild(a)},evalStyles:function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css";try{n.appendChild(document.createTextNode(t))}catch(e){n.styleSheet.cssText=t}e.appendChild(n)}};t.exports=n},function(t,e,n){var a,r=new(n(4)),i=function t(e){r.trigger(),document.removeEventListener?document.removeEventListener("DOMContentLoaded",t,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",t),window==window.top&&(clearInterval(a),a=null))};document.addEventListener?document.addEventListener("DOMContentLoaded",i,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&i()}),window==window.top&&(a=setInterval(function(){try{document.documentElement.doScroll("left")}catch(t){return}i()},5))),t.exports=r.bind},function(t,e,n){t.exports=n(5)},function(t,e,n){},function(t,e){t.exports=function(){var t=!1,e=[];this.bind=function(n){t?n.call(window):e.push(n)},this.trigger=function(){if(!t){t=!0;for(var n=0;n<e.length;n++)e[n].apply(window);e=null}}}},function(t,e,n){"use strict";n.r(e);n(3);function a(t,e,n){if(t&&t.length>0){if("string"==typeof t)return!!e.classList.contains(t);for(var a=0,r=0;r<t.length;r++)e.classList.contains(t[r])&&a++;return a==t.length}return!0}function r(){return this.data=[],this.addClass=function(t){for(var e=0;e<this.data.length;e++)this.data[e].classList.add(t)},this.removeClass=function(t){for(var e=0;e<this.data.length;e++)this.data[e].classList.remove(t)},this.hasClass=function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].classList.contains(t))return!0;return!1},this.hide=function(){for(var t=0;t<this.data.length;t++)this.data[t].style.display="none"},this}function i(t,e){var n={};for(var a in t)n[a]=t[a];for(var r in e)n[r]=e[r];return n}Element.prototype.getParentElementByTag=function(t){if(!t)return null;var e=null,n=this;return function a(){if(!(n=n.parentElement))return null;var r=n.tagName.toLowerCase();r===t?e=n:"body"==r?e=null:a()}(),e},Element.prototype.hasLazyPageParent=function(t){var e=!1,n=this;return function a(){(n=n.parentElement)==t?e=!1:n.classList.contains("lazypage")?e=!0:a()}(),e},Element.prototype.siblings=function(t,e){for(var n=new r,i=this.parentElement.children,o=0;o<i.length;o++){var s=i[o];(s!=this||e)&&(a(t,s)&&n.data.push(s))}return n},Element.prototype.childrens=function(t){for(var e=new r,n=this.children,i=0;i<n.length;i++){var o=n[i];a(t,o)&&e.data.push(o)}return e};var o=location.origin;function s(t){return t.replace(new RegExp(o,"i"),"")}function l(t,e){this.type=t,this.data=e,this.target=null}function u(t){return s(t).replace(/(\?.*)|(#.*)/,"").replace(/^\//,"").replace(/\/\//g,"/").split("/")}function c(){var t={type:arguments[0].type||"GET",url:arguments[0].url||"",async:arguments[0].async||"true",data:arguments[0].data||null,dataType:arguments[0].dataType||"text",header:arguments[0].header||null,contentType:arguments[0].contentType||"application/x-www-form-urlencoded",beforeSend:arguments[0].beforeSend||function(){},success:arguments[0].success||function(){},error:arguments[0].error||function(){}};t.beforeSend();var e=new XMLHttpRequest;if("get"==t.type.toLowerCase()&&null!=t.data&&""!=t.data&&(t.url+=t.url.indexOf("?")>0?"&":"?",t.url+=t.data),e.open(t.type,t.url,t.async),e.setRequestHeader("Content-Type",t.contentType),null!=t.header)for(var n in t.header)e.setRequestHeader(n,t.header[n]);e.send("post"==t.type.toLowerCase()&&null!=t.data?t.data:null),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?t.success(e.responseText):t.error(e.status))}}null==o&&(o=/^((https|http|ftp|rtsp|mms)?:\/\/[^\/]*)/i.exec(location.href)[0]);var d=n(0),f=n.n(d);function p(t,e){var n,a=u(t),r=u(e);if(a.join("/")==r.join("/"))return null;for(n=0;n<a.length&&n<r.length&&a[n]==r[n];n++);var i=g(a.slice(0,n+1));if(null==i)return null;var o=g(r.slice(0,n+1)),s=r.slice(n+1).filter(function(t){return t.length>0});return{current:i,target:o,sun:s,ajaxSun:!!function(t,e){if(0==e.length||null==t)return null;var n=v(e),a=y(t,n);return a.length<n.split(" ").length?n:null}(o,s)}}function h(t){var e=m(t,".in");return e?h(e):t}function v(t){for(var e="",n=0;n<t.length;n++){var a=0==n?"":" ";e=""!=t[n]?e+a+'[data-page="'+t[n]+'"]':e+a+".default"}return e}function g(t){var e=v(t),n=y(null,e);return n.length==e.split(" ").length?n[n.length-1]:null}function m(t,e){for(var n=t.querySelectorAll(".lazypage"+e),a=0;a<n.length;a++)if(0==n[a].hasLazyPageParent(t))return n[a];return null}function y(t,e){null==t&&(t=document.body);for(var n=e.split(" "),a=[],r=0;r<n.length;r++){var i=m(t,n[r]);if(!i)return a;a.push(i),t=i}return a}function E(t){var e=u(t),n=document.querySelector(".lazypage");if(null==n)return null;for(var a=n.parentElement,r=0;r<e.length;r++){var i=m(a,""==e[r]?".default":'[data-page="'+e[r]+'"]');if(null==i)return{container:a,selector:v(e.slice(0,r+1))};a=i}return{container:a}}var L={};function b(t,e,n){var a=E(t);if(a.selector){if(!n){if(L[t])return void L[t].push(e);L[t]=[e]}c({url:t,data:"lazypageTargetSelector="+encodeURIComponent(a.selector),success:function(n){if((n=JSON.parse(n)).hasTargetLazyPage){var r,i=E(t);if(!i.selector)return;if(i.selector!=a.selector)return void b(t,e,!0);for(var o=n.block,s=/data-sort *= *"([0-9])*"/i.exec(o),l=s?parseFloat(s[1]):0,u=a.container.childrens("lazypage"),c=0;c<u.data.length;c++){var d=u.data[c];if(l<parseFloat(d.getAttribute("data-sort")||"0")){d.insertAdjacentHTML("beforebegin",o),r=d.previousSibling||d.previousElementSibling;break}c==u.data.length-1&&(d.insertAdjacentHTML("afterend",o),r=d.nextSibling||d.nextElementSibling)}r.classList.add("out"),r.classList.remove("in"),h(r).setAttribute("data-title",n.title.replace(/<\/?title>/gi,""));for(var p=f.a.extractCode(o),v=p.codes,g=p.srcs,m=0,y=v.length;m<y;m++)f.a.evalScripts(v[m]);if(g.length>0)for(var L=0,w=0,P=g.length;w<P;w++)f.a.dynamicLoadJs(g[w],function(){++L==g.length&&S(t,r)});else S(t,r)}else S(t,null)},error:function(e){console.log("error",e),S(t,null)}})}else e&&e(a.container)}function S(t,e){for(var n=L[t],a=0;a<n.length;a++)n[a]&&n[a](e)}var w=new function(){var t={};this.addEventListener=function(e,n){null==t[e]&&(t[e]=[]),-1==t[e].indexOf(n)&&t[e].push(n)},this.removeEventListener=function(e,n){if(null==t[e]&&(t[e]=[]),null==n)t[e].length>0&&(t[e]=[]);else{var a=t[e].indexOf(n);a>-1&&t[e].splice(a,1)}},this.dispatchEvent=function(e){if(e.target=this,null!=t[e.type])for(var n=0;n<t[e.type].length;n++)t[e.type][n](e)},this.hasEventListener=function(e){return null==t[e]&&(t[e]=[]),t[e].length>0}},P=w.addEventListener,x=w.removeEventListener,T=w.hasEventListener,k={PAGE_FIRST_IN:"PageFirstIn",PAGE_IN_START:"PageInStart",PAGE_IN_END:"PageInEnd",PAGE_OUT_START:"PageOutStart",PAGE_OUT_END:"PageOutEnd"};function A(t,e){t.style.display="block";var n=h(t);n.hasPageFirstIn||(w.dispatchEvent(new l(k.PAGE_FIRST_IN,i(e,{page:n}))),n.hasPageFirstIn=!0),w.dispatchEvent(new l(k.PAGE_IN_START,i(e,{page:n}))),t.classList.contains("in")&&"onPageLoadShow"==e.animate?w.dispatchEvent(new l(k.PAGE_IN_END,i(e,{page:n}))):(e.isBack&&t.classList.add("reverse"),t.classList.remove("out"),t.classList.add(e.animate),t.classList.add("in"),B(t,n,e,k.PAGE_IN_END))}function B(t,e,n,a){t.addEventListener("animationend",function r(o){t.classList.remove("reverse");t.classList.remove(n.animate);t.classList.contains("out")&&(t.style.display="none");t.removeEventListener("animationend",r);w.dispatchEvent(new l(a,i(n,{page:e})))})}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var C=s(location.href),O="pushState"in history&&"replaceState"in history;function j(t,e){if(!O)return!1;if(t=s(t),/^https?:\/\//i.test(t))return!1;var n=p(C,t);if(null==n)return!1;var a=n.current,r=n.target;return null==r||n.ajaxSun?(b(t,function(i){if(null==i)return location.href=t,!0;null==r&&null==(r=p(C,t).target)&&(r=i),function(t){if(!U)return;var e=t.parentElement.childrens("lazypage-loading-mask");e.data.length>0&&(e.data[0].style.display="none")}(a),N(t,a,r,n.sun,e)}),function(t){if(!U)return;var e=t.parentElement,n=e.childrens("lazypage-loading-mask");n.data.length>0?n.data[0].style.display="block":e.insertAdjacentHTML("beforeend",'<div class="lazypage-loading-mask"></div>')}(a)):N(t,a,r,n.sun,e),!0}function N(t,e,n,a,r){"popup"==e.getAttribute("data-animate")&&(r.animate="popup",r.isBack=!0),"popup"==n.getAttribute("data-animate")&&(r.isBack=!1),"auto"==r.animate&&(r.animate=n.getAttribute("data-animate")||"slide"),"string"==typeof r.isBack&&("auto"===r.isBack?r.isBack=4==n.compareDocumentPosition(e):r.isBack="true"===r.isBack),e!=n&&(!function(t,e){var n=h(t);w.dispatchEvent(new l(k.PAGE_OUT_START,i(e,{page:n}))),t.style.display="block",e.isBack&&t.classList.add("reverse"),t.classList.remove("in"),t.classList.add(e.animate),t.classList.add("out"),B(t,n,e,k.PAGE_OUT_END)}(e,r),A(n,r));var o,u=function(t,e){var n=t;if(e.length>0){var a=y(t,v(e));if(a.length>0){n=a[a.length-1];for(var r=0;r<a.length;r++){var i=a[r].siblings(["lazypage","in"]);i.addClass("out"),i.removeClass("in"),i.hide(),a[r].classList.add("in"),a[r].classList.remove("out"),a[r].style.display="block"}}}return n}(n,a);!function t(e){var n=m(e,".default");n&&0==n.siblings(["lazypage","in"]).data.length&&(n.classList.contains("out")&&(n.classList.add("in"),n.classList.remove("out"),n.style.display="block"),t(n))}(u),(o=h(u).getAttribute("data-title"))&&(document.title=o);var c=function t(e,n){var a=m(n,".in:not(.default)");return a?t(e+"/"+a.getAttribute("data-page"),a):e=e.replace("//","/")}(t,u);!function(t,e){var n=s(location.href);if(e.history){null==D&&(D={path:n});var a={animate:e.animate,isBack:e.isBack,path:t,prev:{animate:D.animate,isBack:D.isBack,path:D.path}};D.next={animate:a.animate,isBack:a.isBack,path:a.path},window.history.replaceState(D,null,n),window.history.pushState(a,null,t),D=a}}(c,r),C=c,G(n)}var I=!1,z={};function R(t){O&&(I=!0,t&&"object"==_(t)&&M(t),G(document.body))}function G(t){if(I){for(var e=t.querySelectorAll("a[href]"),n=[],a=0;a<e.length;a++){var r=e[a].href;/^javascript/i.test(r)||(r=s(r),/^https?:\/\//i.test(r)||n.push(r))}M(n)}}function M(t){for(var e=0;e<t.length;e++)z[t[e]]||(z[t[e]]=1,b(t[e],null))}var D=null;var F=n(1),q=n.n(F);function H(t,e){j(t,e=i({history:!0,isBack:!1,animate:"auto"},e))||(location.href=t)}document.addEventListener("click",function(t){var e=t.target;if(e&&("a"==e.tagName.toLowerCase()||(e=e.getParentElementByTag("a")))){var n=e.href;if(/^javascript/i.test(n))return!1;if("true"==e.getAttribute("data-direct"))return!1;var a=e.getAttribute("data-animate")||"auto",r=e.getAttribute("data-back")||"auto";j(n,{history:"true"===(e.getAttribute("data-history")||"true"),isBack:r,animate:a})&&t.preventDefault()}}),window.onpopstate=function(){var t,e=(t=history.state).prev&&C==t.prev.path?(D=t,{history:!1,isBack:t.isBack,animate:t.animate}):t.next&&C==t.next.path?(D=t,{history:!1,isBack:!t.next.isBack,animate:t.next.animate}):(console.log("-------------error-----------"),null);e?j(location.href,e):location.reload()},q()(function(){var t=h(document.body);t&&(t.setAttribute("data-title",document.title),A(t,{isBack:!1,animate:"onPageLoadShow"}))}),n.d(e,"goto",function(){return H}),n.d(e,"needLoading",function(){return U}),n.d(e,"closeLoading",function(){return J}),n.d(e,"openLoading",function(){return X}),n.d(e,"closePreLoad",function(){return closePreLoad}),n.d(e,"addEventListener",function(){return P}),n.d(e,"removeEventListener",function(){return x}),n.d(e,"hasEventListener",function(){return T}),n.d(e,"PageEvent",function(){return k}),n.d(e,"openPreLoad",function(){return R});var U=!0;function J(){U=!1}function X(){U=!1}}]);